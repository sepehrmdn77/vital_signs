# 🩺 Vital Signs Backend Assignment

## 📊 Code Coverage

Test coverage reports are integrated with **Codecov**:
| Branch | Coverage |
|---------|-----------|
| main | [![codecov](https://codecov.io/github/sepehrmdn77/vital_signs/branch/main/graph/badge.svg?token=AKUKJ6HTF1)](https://codecov.io/github/sepehrmdn77/vital_signs) |
| dev  | [![codecov](https://codecov.io/github/sepehrmdn77/vital_signs/branch/dev/graph/badge.svg?token=AKUKJ6HTF1)](https://codecov.io/github/sepehrmdn77/vital_signs) |
------------------------------------------------------------------------

## 🚀 Repository Overview

This repository demonstrates a **complete backend project** built with
**FastAPI**.\
It showcases **DevOps principles** and follows the **Software
Development Life Cycle (SDLC)** --- including design, implementation,
testing, CI/CD, and deployment.

------------------------------------------------------------------------

## 🧠 Tech Stack

  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
  **Backend**            [FastAPI](https://fastapi.tiangolo.com/) <img src="https://github.com/tandpfun/skill-icons/blob/main/icons/FastAPI.svg" height="20" />
  **Testing**            [Pytest](https://docs.pytest.org/en/stable/) <img src="https://github.com/pytest-dev/design/blob/master/pytest_logo/pytest_logo.svg" height="20" />
  **CI/CD**              [GitHub Actions](https://docs.github.com/en/actions) <img src="https://github.com/tandpfun/skill-icons/blob/main/icons/GithubActions-Light.svg" height="20" />
  **Containerization**   [Docker](https://www.docker.com/) <img src="https://github.com/tandpfun/skill-icons/blob/main/icons/Docker.svg" height="20" />
  
  -----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------


## 🧩 Features

-   ⚡ FastAPI backend with clean and modular code structure
-   🧪 Automated testing using Pytest and live results in top of this README with codecov
-   🔄 Continuous Integration & Deployment (CI/CD) using GitHub Actions
-   🐳 Dockerized environment for consistent builds
-   🧰 Example configuration for local development and cloud deployment

------------------------------------------------------------------------

## 🧭 Project Structure

    vital_signs/
    ├── app/                    # FastAPI source code
    │   ├── health_service/     # Health service and endpoints
    │   ├── cookies/            # test Cookies and endpoints (if any)
    │   ├── core/               # Core databse settings and utilities (if any)
    │   └── tests/              # Unit and integration tests
    ├── Dockerfile              # Docker image multi stage (lighter)
    ├── .github/workflows/      # CI/CD pipelines
    └── README.md               # Documentation

------------------------------------------------------------------------

## 🧪 Run and Test Locally

### 1️⃣ Clone the repository

``` bash
git clone https://github.com/sepehrmdn77/vital_signs.git
cd vital_signs
```

### 2️⃣ Create and activate virtual environment

``` bash
python -m venv venv
source venv/bin/activate  # on macOS/Linux
venv\Scripts\activate   # on Windows
```

### 3️⃣ Install dependencies

``` bash
pip install -r requirements.txt
```

### 4️⃣ Run the app locally

``` bash
uvicorn app.main:app --reload
# Or running using fastapi cli just for development
fastapi run --port 8000 --host 0.0.0.0 ./app/main.py
```

### 5️⃣ Run tests

``` bash
pytest -v
```

------------------------------------------------------------------------

## 🧰 CI/CD Overview

This project uses **GitHub Actions** to:
- Checkout the code
- Set up three Python versions according to a matrix strategy to provide a complete test stage
- Lint the code using pylint and enforce style with Flake8
- Run tests automatically on each push and pull request using pytest
- Build and publish Docker images with semantic tags; if a push contains a tag, use it, otherwise push the Docker image with the commit SHA
- Generate coverage reports via **Codecov**

You can review the pipeline in `.github/workflows/`.

------------------------------------------------------------------------

### 🔒 Branch Protection

This repository has **branch protection rules** enabled on the `main` branch to ensure code quality and stability.  
All changes must go through a **Pull Request** with successful CI/CD checks and code review before merging.

------------------------------------------------------------------------

## 📘 Documentation

The API documentation is automatically generated by **FastAPI** at:

-   Swagger UI → <http://localhost:8000/docs>
-   ReDoc → <http://localhost:8000/redoc>

------------------------------------------------------------------------

## 🌍 Deployment

You can deploy this project using **Docker compose**, **Docker swarm**, **K8s**, and any cluster orchestration service you're comfortable with, also you can do the deployment using **GitHub Actions**, **ArgoCD**, **FluxCD**, or any CD services supporting containerized applications.

Example with Docker Compose:

``` bash
docker compose up --build
```

------------------------------------------------------------------------

**Sepehr Maadani**\
DevOps Engineer\
[GitHub Profile](https://github.com/sepehrmdn77)

------------------------------------------------------------------------